<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" version="21.0.0" etag="drawio-sequence" type="device">
  <diagram name="smartnews_sequence" id="smartnews-sequence">
    <mxGraphModel dx="2000" dy="2000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="2800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Smart News Reader AI - Sequence Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="50" y="20" width="1900" height="30" as="geometry" />
        </mxCell>
        
        <!-- ============================================ -->
        <!-- SD-01: Search News by Text -->
        <!-- ============================================ -->
        <mxCell id="sd1-title" value="SD-01: Search News by Text" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="70" width="500" height="30" as="geometry" />
        </mxCell>
        
        <!-- Lifelines for SD-01 -->
        <mxCell id="sd1-user" value="User" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="120" height="600" as="geometry" />
        </mxCell>
        
        <mxCell id="sd1-frontend" value="Frontend&#xa;(React)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="120" width="200" height="600" as="geometry" />
        </mxCell>
        <mxCell id="sd1-act-frontend" parent="sd1-frontend" style="shape=partialRectangle;fillColor=#dae8fc;strokeColor=#6c8ebf;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="500" width="200" y="140" as="geometry" />
        </mxCell>
        
        <mxCell id="sd1-backend" value="Backend&#xa;(Express.js)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="120" width="200" height="600" as="geometry" />
        </mxCell>
        <mxCell id="sd1-act-backend" parent="sd1-backend" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="400" width="200" y="190" as="geometry" />
        </mxCell>
        
        <mxCell id="sd1-newsapi" value="NewsData.io API" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="840" y="120" width="180" height="600" as="geometry" />
        </mxCell>
        <mxCell id="sd1-act-newsapi" parent="sd1-newsapi" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="150" width="180" y="240" as="geometry" />
        </mxCell>
        
        <!-- Messages SD-01 -->
        <mxCell id="sd1-msg1" value="Enter search keyword" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd1-user" target="sd1-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="200" y="220" as="sourcePoint" />
            <mxPoint x="300" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg2" value="POST /search-news&#xa;{query, language, limit}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd1-frontend" target="sd1-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="500" y="270" as="sourcePoint" />
            <mxPoint x="600" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg3" value="GET /api/1/news&#xa;?apikey=...&amp;q=query" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd1-backend" target="sd1-newsapi">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="800" y="320" as="sourcePoint" />
            <mxPoint x="900" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg4" value="Response: articles[]" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd1-newsapi" target="sd1-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="900" y="390" as="sourcePoint" />
            <mxPoint x="800" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg5" value="Process and sort articles&#xa;(BM25 algorithm)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd1-backend" target="sd1-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="440" />
            </Array>
            <mxPoint x="660" y="420" as="sourcePoint" />
            <mxPoint x="660" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg6" value="Response: {articles, total, query}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd1-backend" target="sd1-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="490" as="sourcePoint" />
            <mxPoint x="500" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg7" value="Display news list" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd1-frontend" target="sd1-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="540" />
            </Array>
            <mxPoint x="380" y="520" as="sourcePoint" />
            <mxPoint x="380" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd1-msg8" value="(Optional) Auto-read first article" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;dashed=1;fontSize=11;" edge="1" parent="1" source="sd1-frontend" target="sd1-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="600" />
            </Array>
            <mxPoint x="380" y="580" as="sourcePoint" />
            <mxPoint x="380" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- SD-02: Search News by Voice (STT) -->
        <!-- ============================================ -->
        <mxCell id="sd2-title" value="SD-02: Search News by Voice (STT)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="760" width="500" height="30" as="geometry" />
        </mxCell>
        
        <!-- Lifelines for SD-02 -->
        <mxCell id="sd2-user" value="User" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="810" width="120" height="500" as="geometry" />
        </mxCell>
        
        <mxCell id="sd2-frontend" value="Frontend&#xa;(React)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="810" width="200" height="500" as="geometry" />
        </mxCell>
        <mxCell id="sd2-act-frontend" parent="sd2-frontend" style="shape=partialRectangle;fillColor=#dae8fc;strokeColor=#6c8ebf;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="400" width="200" y="830" as="geometry" />
        </mxCell>
        
        <mxCell id="sd2-browser" value="Browser&#xa;(Web Speech API)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="810" width="200" height="500" as="geometry" />
        </mxCell>
        <mxCell id="sd2-act-browser" parent="sd2-browser" style="shape=partialRectangle;fillColor=#e1d5e7;strokeColor=#9673a6;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="200" width="200" y="880" as="geometry" />
        </mxCell>
        
        <mxCell id="sd2-backend" value="Backend&#xa;(Express.js)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="840" y="810" width="200" height="500" as="geometry" />
        </mxCell>
        <mxCell id="sd2-act-backend" parent="sd2-backend" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="200" width="200" y="1100" as="geometry" />
        </mxCell>
        
        <mxCell id="sd2-newsapi" value="NewsData.io API" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="1120" y="810" width="180" height="500" as="geometry" />
        </mxCell>
        <mxCell id="sd2-act-newsapi" parent="sd2-newsapi" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="100" width="180" y="1200" as="geometry" />
        </mxCell>
        
        <!-- Messages SD-02 -->
        <mxCell id="sd2-msg1" value="Press microphone button" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd2-user" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="200" y="910" as="sourcePoint" />
            <mxPoint x="300" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg2" value="Initialize SpeechRecognition&#xa;recognition.start()" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#9673a6;dashed=1;fontSize=11;" edge="1" parent="1" source="sd2-frontend" target="sd2-browser">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="500" y="960" as="sourcePoint" />
            <mxPoint x="600" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg3" value="Request microphone permission" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#9673a6;rounded=1;fontSize=11;" edge="1" parent="1" source="sd2-browser" target="sd2-browser">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="1000" />
            </Array>
            <mxPoint x="660" y="980" as="sourcePoint" />
            <mxPoint x="660" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg4" value="Speak search keyword" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd2-user" target="sd2-browser">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="200" y="1050" as="sourcePoint" />
            <mxPoint x="600" y="1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg5" value="Recognize speech&#xa;(Speech-to-Text)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#9673a6;rounded=1;fontSize=11;" edge="1" parent="1" source="sd2-browser" target="sd2-browser">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="1090" />
            </Array>
            <mxPoint x="660" y="1070" as="sourcePoint" />
            <mxPoint x="660" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg6" value="onresult: text transcript" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#9673a6;dashed=1;fontSize=11;" edge="1" parent="1" source="sd2-browser" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="1120" as="sourcePoint" />
            <mxPoint x="500" y="1120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg7" value="Display text in search bar" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd2-frontend" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="1160" />
            </Array>
            <mxPoint x="380" y="1140" as="sourcePoint" />
            <mxPoint x="380" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg8" value="Auto-call handleSearch(query)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd2-frontend" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="1220" />
            </Array>
            <mxPoint x="380" y="1200" as="sourcePoint" />
            <mxPoint x="380" y="1240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg9" value="POST /search-news&#xa;{query, language, limit}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd2-frontend" target="sd2-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="500" y="1280" as="sourcePoint" />
            <mxPoint x="900" y="1280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg10" value="GET /api/1/news" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd2-backend" target="sd2-newsapi">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1100" y="1300" as="sourcePoint" />
            <mxPoint x="1200" y="1300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg11" value="Response: articles[]" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd2-newsapi" target="sd2-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1200" y="1280" as="sourcePoint" />
            <mxPoint x="1100" y="1280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg12" value="Response: {articles, total}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd2-backend" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="900" y="1310" as="sourcePoint" />
            <mxPoint x="500" y="1310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd2-msg13" value="Display search results" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd2-frontend" target="sd2-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="1350" />
            </Array>
            <mxPoint x="380" y="1330" as="sourcePoint" />
            <mxPoint x="380" y="1370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- SD-03: Auto-Read News (TTS) -->
        <!-- ============================================ -->
        <mxCell id="sd3-title" value="SD-03: Auto-Read News (TTS)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="1360" width="500" height="30" as="geometry" />
        </mxCell>
        
        <!-- Lifelines for SD-03 -->
        <mxCell id="sd3-user" value="User" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="1410" width="120" height="1200" as="geometry" />
        </mxCell>
        
        <mxCell id="sd3-frontend" value="Frontend&#xa;(React)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="1410" width="200" height="1200" as="geometry" />
        </mxCell>
        <mxCell id="sd3-act-frontend" parent="sd3-frontend" style="shape=partialRectangle;fillColor=#dae8fc;strokeColor=#6c8ebf;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="1100" width="200" y="1430" as="geometry" />
        </mxCell>
        
        <mxCell id="sd3-backend" value="Backend&#xa;(Express.js)" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="1410" width="200" height="1200" as="geometry" />
        </mxCell>
        <mxCell id="sd3-act-backend" parent="sd3-backend" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="1000" width="200" y="1500" as="geometry" />
        </mxCell>
        
        <mxCell id="sd3-articlecleaner" value="ArticleCleaner&#xa;Module" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="840" y="1410" width="180" height="1200" as="geometry" />
        </mxCell>
        <mxCell id="sd3-act-articlecleaner" parent="sd3-articlecleaner" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="400" width="180" y="1520" as="geometry" />
        </mxCell>
        
        <mxCell id="sd3-puppeteer" value="Puppeteer" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="1100" y="1410" width="150" height="1200" as="geometry" />
        </mxCell>
        <mxCell id="sd3-act-puppeteer" parent="sd3-puppeteer" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="150" width="150" y="1570" as="geometry" />
        </mxCell>
        
        <mxCell id="sd3-googletts" value="Google TTS API" style="swimlane;html=1;startSize=20;whiteSpace=wrap;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=12;align=center;" vertex="1" parent="1">
          <mxGeometry x="1330" y="1410" width="180" height="1200" as="geometry" />
        </mxCell>
        <mxCell id="sd3-act-googletts" parent="sd3-googletts" style="shape=partialRectangle;fillColor=#ffe6cc;strokeColor=#d79b00;top=0;left=0;bottom=0;right=0;points=[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="100" width="180" y="2050" as="geometry" />
        </mxCell>
        
        <!-- Messages SD-03 -->
        <mxCell id="sd3-msg1" value="Click &quot;Listen&quot; on article" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd3-user" target="sd3-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="200" y="1530" as="sourcePoint" />
            <mxPoint x="300" y="1530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg2" value="GET /fetch-article-clean?url=..." style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd3-frontend" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="500" y="1580" as="sourcePoint" />
            <mxPoint x="600" y="1580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg3" value="Call getCleanArticleForTTS(url)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-articlecleaner">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="800" y="1630" as="sourcePoint" />
            <mxPoint x="900" y="1630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg4" value="Call extractMainContent(url)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-articlecleaner" target="sd3-puppeteer">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1100" y="1680" as="sourcePoint" />
            <mxPoint x="1150" y="1680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg5" value="Launch browser and navigate" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-puppeteer" target="sd3-puppeteer">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="1720" />
            </Array>
            <mxPoint x="1175" y="1700" as="sourcePoint" />
            <mxPoint x="1175" y="1740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg6" value="Extract HTML content" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-puppeteer" target="sd3-puppeteer">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="1780" />
            </Array>
            <mxPoint x="1175" y="1760" as="sourcePoint" />
            <mxPoint x="1175" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg7" value="Return {title, content}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-puppeteer" target="sd3-articlecleaner">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1150" y="1830" as="sourcePoint" />
            <mxPoint x="1100" y="1830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg8" value="cleanText(content)&#xa;Remove SAPO, ads, noise" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-articlecleaner" target="sd3-articlecleaner">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1000" y="1880" />
            </Array>
            <mxPoint x="930" y="1860" as="sourcePoint" />
            <mxPoint x="930" y="1900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg9" value="prepareSpeechText({title, content})" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-articlecleaner" target="sd3-articlecleaner">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1000" y="1940" />
            </Array>
            <mxPoint x="930" y="1920" as="sourcePoint" />
            <mxPoint x="930" y="1960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg10" value="Return {title, content, ttsText}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-articlecleaner" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="900" y="1980" as="sourcePoint" />
            <mxPoint x="800" y="1980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg11" value="Response: {ttsText, title, content}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="2030" as="sourcePoint" />
            <mxPoint x="500" y="2030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg12" value="POST /synthesize&#xa;{text, voice, language}" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd3-frontend" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="500" y="2080" as="sourcePoint" />
            <mxPoint x="600" y="2080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg13" value="Split text into chunks (500 chars)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="2120" />
            </Array>
            <mxPoint x="660" y="2100" as="sourcePoint" />
            <mxPoint x="660" y="2140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg14" value="Call Google TTS for each chunk" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-googletts">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="800" y="2150" as="sourcePoint" />
            <mxPoint x="1330" y="2150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg15" value="Return audio chunks (MP3)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;fontSize=11;" edge="1" parent="1" source="sd3-googletts" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="1330" y="2180" as="sourcePoint" />
            <mxPoint x="800" y="2180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg16" value="Concatenate audio chunks" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d79b00;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-backend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="2220" />
            </Array>
            <mxPoint x="660" y="2200" as="sourcePoint" />
            <mxPoint x="660" y="2240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg17" value="Response: audio blob (MP3)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#000000;fontSize=11;" edge="1" parent="1" source="sd3-backend" target="sd3-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="2250" as="sourcePoint" />
            <mxPoint x="500" y="2250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg18" value="Create audio URL:&#xa;URL.createObjectURL(blob)" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-frontend" target="sd3-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="2290" />
            </Array>
            <mxPoint x="380" y="2270" as="sourcePoint" />
            <mxPoint x="380" y="2310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg19" value="Play audio in AudioPlayer" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#6c8ebf;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-frontend" target="sd3-frontend">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="2350" />
            </Array>
            <mxPoint x="380" y="2330" as="sourcePoint" />
            <mxPoint x="380" y="2370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="sd3-msg20" value="Listen to news" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;strokeWidth=2;strokeColor=#d6b656;rounded=1;fontSize=11;" edge="1" parent="1" source="sd3-user" target="sd3-user">
          <mxGeometry width="80" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="200" y="2410" />
            </Array>
            <mxPoint x="140" y="2390" as="sourcePoint" />
            <mxPoint x="140" y="2430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
